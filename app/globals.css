@import "tailwindcss";
@import "tw-animate-css";

/* Dark mode variant for Tailwind v4 */
@custom-variant dark (&:is(.dark *));

/* 
 * Minimalist Portfolio Theme
 * Using CSS Custom Properties for seamless dark/light mode switching
 */
@theme inline {
  /* Color palette - Minimalist monochrome with accent */
  --color-background: oklch(0.99 0 0);
  --color-foreground: oklch(0.13 0 0);
  --color-muted: oklch(0.96 0 0);
  --color-muted-foreground: oklch(0.45 0 0);
  --color-accent: oklch(0.65 0.15 250);
  --color-accent-foreground: oklch(0.99 0 0);
  --color-border: oklch(0.91 0 0);
  --color-ring: oklch(0.65 0.15 250);
  
  /* Typography */
  --font-sans: var(--font-geist-sans), ui-sans-serif, system-ui, sans-serif;
  --font-mono: var(--font-geist-mono), ui-monospace, monospace;
  
  /* Spacing & Sizing */
  --radius: 0.5rem;
  --header-height: 5rem;
  
  /* Animation timings */
  --transition-fast: 150ms;
  --transition-base: 300ms;
  --transition-slow: 500ms;
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-in-out-expo: cubic-bezier(0.87, 0, 0.13, 1);
}

/* Dark mode overrides */
.dark {
  --color-background: oklch(0.1 0 0);
  --color-foreground: oklch(0.98 0 0);
  --color-muted: oklch(0.18 0 0);
  --color-muted-foreground: oklch(0.65 0 0);
  --color-border: oklch(0.25 0 0);
  --color-accent: oklch(0.7 0.15 250);
}

/* Base layer styles */
@layer base {
  *,
  *::before,
  *::after {
    border-color: var(--color-border);
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition: background-color var(--transition-base) var(--ease-out-expo),
                color var(--transition-base) var(--ease-out-expo);
  }

  /* Selection styling */
  ::selection {
    background-color: var(--color-accent);
    color: var(--color-accent-foreground);
  }

  /* Focus visible styling */
  :focus-visible {
    outline: 2px solid var(--color-ring);
    outline-offset: 2px;
  }

  /* Reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* Component layer for reusable patterns */
@layer components {
  /* Container with responsive padding */
  .container-custom {
    width: 100%;
    max-width: 1280px;
    margin-inline: auto;
    padding-inline: 1.5rem;
  }

  @media (min-width: 768px) {
    .container-custom {
      padding-inline: 3rem;
    }
  }

  @media (min-width: 1024px) {
    .container-custom {
      padding-inline: 4rem;
    }
  }

  /* Text gradient utility */
  .text-gradient {
    background: linear-gradient(135deg, var(--color-foreground) 0%, var(--color-muted-foreground) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Hover lift effect */
  .hover-lift {
    transition: transform var(--transition-base) var(--ease-out-expo),
                box-shadow var(--transition-base) var(--ease-out-expo);
  }

  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px -8px oklch(0 0 0 / 0.15);
  }

  .dark .hover-lift:hover {
    box-shadow: 0 12px 24px -8px oklch(0 0 0 / 0.4);
  }

  /* Link underline animation */
  .link-underline {
    position: relative;
  }

  .link-underline::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -2px;
    width: 0;
    height: 1px;
    background-color: currentColor;
    transition: width var(--transition-base) var(--ease-out-expo);
  }

  .link-underline:hover::after {
    width: 100%;
  }
}

/* GSAP Animation Classes - Initial states for JavaScript animations */
@layer utilities {
  /* Fade animations */
  .gsap-fade-up {
    opacity: 0;
    transform: translateY(30px);
  }

  .gsap-fade-down {
    opacity: 0;
    transform: translateY(-30px);
  }

  .gsap-fade-left {
    opacity: 0;
    transform: translateX(-30px);
  }

  .gsap-fade-right {
    opacity: 0;
    transform: translateX(30px);
  }

  .gsap-fade-in {
    opacity: 0;
  }

  /* Scale animations */
  .gsap-scale-up {
    opacity: 0;
    transform: scale(0.9);
  }

  .gsap-scale-down {
    opacity: 0;
    transform: scale(1.1);
  }

  /* Clip path reveal */
  .gsap-clip-reveal {
    clip-path: inset(0 100% 0 0);
  }

  /* Menu overlay specific */
  .menu-overlay-hidden {
    clip-path: circle(0% at calc(100% - 2.5rem) 2.5rem);
  }

  .menu-overlay-visible {
    clip-path: circle(150% at calc(100% - 2.5rem) 2.5rem);
  }

  /* Stagger children helper */
  .stagger-children > * {
    opacity: 0;
    transform: translateY(20px);
  }

  /* Smooth scrollbar */
  .smooth-scroll {
    scroll-behavior: smooth;
  }

  /* Hide scrollbar but keep functionality */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }

  /* Aspect ratios for project cards */
  .aspect-project {
    aspect-ratio: 16 / 10;
  }
}

/* Keyframe animations for CSS-only effects */
@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes pulse-soft {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-down {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Animation utility classes */
.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-pulse-soft {
  animation: pulse-soft 2s ease-in-out infinite;
}

.animate-slide-up {
  animation: slide-up 0.5s var(--ease-out-expo) forwards;
}

.animate-slide-down {
  animation: slide-down 0.5s var(--ease-out-expo) forwards;
}

.animate-fade-in {
  animation: fade-in 0.5s var(--ease-out-expo) forwards;
}

/* Animation delays */
.delay-100 { animation-delay: 100ms; }
.delay-200 { animation-delay: 200ms; }
.delay-300 { animation-delay: 300ms; }
.delay-400 { animation-delay: 400ms; }
.delay-500 { animation-delay: 500ms; }
